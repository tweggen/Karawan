<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Aihao.App"
             RequestedThemeVariant="Dark">
    
    <!-- Resources must come BEFORE Styles so StaticResource can find them -->
    <Application.Resources>
        <ResourceDictionary>
            <!-- Default UI font size -->
            <x:Double x:Key="UIFontSize">11</x:Double>
            <x:Double x:Key="EditorFontSize">12</x:Double>
            
            <!-- Custom colors for IDE look -->
            <Color x:Key="EditorBackgroundColor">#1E1E1E</Color>
            <Color x:Key="PanelBackgroundColor">#252526</Color>
            <Color x:Key="ToolbarBackgroundColor">#333333</Color>
            <Color x:Key="AccentColor">#007ACC</Color>
            <Color x:Key="ErrorColor">#F44747</Color>
            <Color x:Key="WarningColor">#FF8C00</Color>
            <Color x:Key="InfoColor">#3794FF</Color>
            <Color x:Key="DebugColor">#6A9955</Color>
            
            <SolidColorBrush x:Key="EditorBackgroundBrush" Color="{StaticResource EditorBackgroundColor}"/>
            <SolidColorBrush x:Key="PanelBackgroundBrush" Color="{StaticResource PanelBackgroundColor}"/>
            <SolidColorBrush x:Key="ToolbarBackgroundBrush" Color="{StaticResource ToolbarBackgroundColor}"/>
            <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
            <SolidColorBrush x:Key="WarningBrush" Color="{StaticResource WarningColor}"/>
            <SolidColorBrush x:Key="ErrorBrush" Color="{StaticResource ErrorColor}"/>
            <SolidColorBrush x:Key="InfoBrush" Color="{StaticResource InfoColor}"/>
        </ResourceDictionary>
    </Application.Resources>
    
    <Application.Styles>
        <FluentTheme />
        
        <!-- ============================================== -->
        <!-- COMPACT UI STYLES - Native-like density       -->
        <!-- Target: ~70% of FluentTheme default spacing   -->
        <!-- ============================================== -->
        
        <!-- Global font size -->
        <Style Selector="Window">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
        </Style>
        
        <!-- Menu bar - native-like tight spacing -->
        <Style Selector="Menu">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Height" Value="22"/>
        </Style>
        <Style Selector="Menu > MenuItem">
            <Setter Property="Padding" Value="6,0"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="MinHeight" Value="20"/>
            <Setter Property="Height" Value="20"/>
        </Style>
        
        <!-- Menu dropdown items - tight -->
        <Style Selector="MenuItem">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="20,2,8,2"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        <Style Selector="MenuItem /template/ ContentPresenter#PART_HeaderPresenter">
            <Setter Property="Margin" Value="0"/>
        </Style>
        
        <!-- Buttons - compact -->
        <Style Selector="Button">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="6,2"/>
            <Setter Property="MinHeight" Value="20"/>
            <Setter Property="MinWidth" Value="0"/>
        </Style>
        
        <!-- TextBlock -->
        <Style Selector="TextBlock">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
        </Style>
        
        <!-- TextBox - compact -->
        <Style Selector="TextBox">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="4,2"/>
            <Setter Property="MinHeight" Value="20"/>
        </Style>
        
        <!-- ComboBox - compact -->
        <Style Selector="ComboBox">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="4,2"/>
            <Setter Property="MinHeight" Value="20"/>
        </Style>
        <Style Selector="ComboBoxItem">
            <Setter Property="Padding" Value="6,2"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- TreeView - compact -->
        <Style Selector="TreeView">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
        </Style>
        <Style Selector="TreeViewItem">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- ListBox - compact -->
        <Style Selector="ListBox">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
        </Style>
        <Style Selector="ListBoxItem">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="4,1"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- TabControl - compact tabs -->
        <Style Selector="TabItem">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="8,2"/>
            <Setter Property="MinHeight" Value="22"/>
        </Style>
        
        <!-- Labels -->
        <Style Selector="Label">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
        
        <!-- CheckBox - compact -->
        <Style Selector="CheckBox">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="2,1"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- RadioButton - compact -->
        <Style Selector="RadioButton">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="2,1"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- ToggleSwitch - compact -->
        <Style Selector="ToggleSwitch">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="MinHeight" Value="18"/>
        </Style>
        
        <!-- NumericUpDown - compact -->
        <Style Selector="NumericUpDown">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="2,1"/>
            <Setter Property="MinHeight" Value="20"/>
            <Setter Property="MinWidth" Value="50"/>
        </Style>
        
        <!-- ScrollBar - thinner -->
        <Style Selector="ScrollBar">
            <Setter Property="MinWidth" Value="8"/>
            <Setter Property="MinHeight" Value="8"/>
        </Style>
        <Style Selector="ScrollBar:vertical">
            <Setter Property="Width" Value="8"/>
        </Style>
        <Style Selector="ScrollBar:horizontal">
            <Setter Property="Height" Value="8"/>
        </Style>
        
        <!-- Expander - compact header -->
        <Style Selector="Expander">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
        
        <!-- ToolTip - compact -->
        <Style Selector="ToolTip">
            <Setter Property="FontSize" Value="{DynamicResource UIFontSize}"/>
            <Setter Property="Padding" Value="4,2"/>
        </Style>
        
        <!-- Separator in menus - thinner -->
        <Style Selector="Separator">
            <Setter Property="Margin" Value="0,1"/>
            <Setter Property="Height" Value="1"/>
        </Style>
        
        <!-- GridSplitter - thinner -->
        <Style Selector="GridSplitter">
            <Setter Property="Background" Value="{StaticResource ToolbarBackgroundBrush}"/>
        </Style>
        <Style Selector="GridSplitter:vertical">
            <Setter Property="Width" Value="2"/>
        </Style>
        <Style Selector="GridSplitter:horizontal">
            <Setter Property="Height" Value="2"/>
        </Style>
        
        <!-- Border padding reduction for panels -->
        <Style Selector="Border.panel">
            <Setter Property="Padding" Value="2"/>
        </Style>
        
        <!-- DataGrid - compact rows -->
        <Style Selector="DataGridRow">
            <Setter Property="MinHeight" Value="20"/>
        </Style>
        <Style Selector="DataGridCell">
            <Setter Property="Padding" Value="4,1"/>
        </Style>
        
    </Application.Styles>
</Application>
